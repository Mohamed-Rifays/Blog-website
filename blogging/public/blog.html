<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Blog Post</title>
    <style>
        html,body{height:100%;margin:0;font-family:Arial, Helvetica, sans-serif;background:#f7f8fb}
        .header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:rgb(113,113,219);color:black}
        .container{max-width:900px;margin:36px auto;padding:0 16px;box-sizing:border-box}
        .post-form{background:white;padding:24px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
        .form-group{display:flex;flex-direction:column;margin-bottom:14px}
        label{margin-bottom:6px;font-weight:600}
        input[type="text"]{padding:10px;border:1px solid rgba(0,0,0,0.12);border-radius:4px;font-size:1rem}
        textarea{min-height:260px;padding:10px;border:1px solid rgba(0,0,0,0.12);border-radius:4px;font-size:1rem;resize:vertical}
        .submit-btn{background:#0b62d6;color:white;border:none;padding:10px 14px;border-radius:6px;cursor:pointer;font-size:1rem}
        .submit-btn:hover{background:#0954b1}
        .muted{color:#6b6f77;font-size:0.95rem;margin-top:8px}
        footer{margin-top:28px;text-align:center;color:#6b6f77;font-size:0.95rem}
        a.back{color:black;text-decoration:none;font-weight:700}
    </style>
</head>
<body>
    <header class="header">
        <div>Wish Blogging</div>
        <div><a class="back" href="index.html">Home</a></div>
    </header>

    <main class="container">
        <section class="post-form">
            <h2>Create a new post</h2>
            <form class="blog-form">
                <div class="form-group">
                    <label for="post-title">Heading</label>
                    <input id="post-title" name="title" type="text" placeholder="Enter your post title" required>
                </div>

                <div class="form-group">
                    <label for="post-subtitle">Title of the content</label>
                    <input id="post-subtitle" name="subtitle" type="text" placeholder="Enter your movie title" required>
                </div>

                <div class="form-group">
                    <label for="post-body">Content</label>
                    <textarea id="post-body" name="content" placeholder="Write your blog content here..." required></textarea>
                </div>

                <button type="submit" class="submit-btn">Submit</button>
                <div class="muted">Your post will be submitted when you press Submit.</div>
            </form>
        </section>
        <footer>
            &copy; 2025 Wish Blogging
        </footer>
    </main>

    <script>
        document.querySelector('.blog-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-body').value;
            const subtitle = document.getElementById('post-subtitle').value;
           
            // Here you would typically send the data to the backend server
               const token = localStorage.getItem('token');

            const req = await fetch('/blogs', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + token
                },
                body: JSON.stringify({ title, content, subtitle })
            }); 

            const res = await req.json();
             alert('Blog post submitted!\n\nTitle: ' + res.title + '\nMovie: ' + res.subtitle + '\nContent: ' + res.content);
            
            e.target.reset();
        });
    </script>
</body>
</html>
